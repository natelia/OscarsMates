<main class="categories-page">
  <div class="container mx-auto px-4 py-8">
    <div class="page-header mb-4">
      <h1 class="page-title"><%= @category.name %></h1>
      <p class="text-secondary"><%= pluralize(@movies.count, 'movie') %> in this category</p>
    </div>

    <% if @movies.any? %>
      <div class="movies-grid">
        <% @movies.each_with_index do |movie, index| %>
          <div class="animate-fade-in-up animate-delay-<%= [index + 1, 12].min %>">
            <%= render 'movies/movie_card', movie: movie, review: @user_reviews[movie.id] %>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="empty-state">
        <div class="empty-icon">
          <i class="bi bi-film"></i>
        </div>
        <h3>No movies in this category</h3>
        <p>There are no movies for this category yet.</p>
      </div>
    <% end %>

    <div class="mt-4 flex flex-wrap gap-2">
      <%= link_to categories_path(year: current_year), class: 'btn-outline-oscar' do %>
        <i class="bi bi-arrow-left mr-1"></i> Back to Categories
      <% end %>
      <% if current_user_admin? %>
        <%= link_to edit_category_path(@category, year: current_year), class: 'btn-outline-oscar' do %>
          <i class="bi bi-pencil mr-1"></i> Edit Category
        <% end %>
      <% end %>
    </div>
  </div>
</main>
